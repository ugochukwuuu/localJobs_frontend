import{_ as S,u as _,r as v,a as j,q as k,c as b,d as p,e as T,b as a,w as g,x as f,y as m,F as A,z as B,s as y,o as s,l as C,A as x}from"./index-Bf35r3vJ.js";const E={class:"search-cont d-flex flex-row align-items-center"},F={class:"search-bar-cont d-flex align-items-center"},H={class:"location-bar search-div"},M={class:"category-bar search-div"},O={class:"card-container"},V={__name:"Jobs",setup(N){const r=_(),n=v(!1),i=v([]),l=j({category:"All",location:"All"}),h=async()=>{const t=l.location.toLowerCase(),e=l.category.toLowerCase();console.log("Search Parameters:",{location:t,category:e}),t==="all"&&e==="all"?await d():await w(t,e)},w=async(t,e)=>{console.log("get specific"),n.value=!0;let o=y.from("jobs").select(`*,
          recruiter:users(id,name,email)
        `);t!="all"&&(o=o.ilike("location",`%${t}%`)),e!="all"&&(o=o.ilike("category",`%${e}%`));let{data:u,error:c}=await o;if(c){r.error("Error getting jobs",c),console.error(c);return}else u.length===0&&(r.info("No jobs found matching your criteria"),n.value=!1),n.value=!1,i.value=u,console.log(i.value)},d=async()=>{console.log("get all jobs"),n.value=!0;let{data:t,error:e}=await y.from("jobs").select(`*,
          recruiter:users(id,name,email)
        `);e?(r.error("Error getting jobs",e),console.error(e)):(console.log(t),i.value=t,n.value=!1)};return k(()=>{d()}),(t,e)=>(s(),b("main",null,[n.value?(s(),p(C,{key:0})):T("",!0),a("div",E,[e[6]||(e[6]=a("h1",null,"Find your jobs easily",-1)),a("div",F,[a("div",H,[e[3]||(e[3]=a("i",{class:"pi pi-map-marker"},null,-1)),g(a("select",{class:"search-dropdown","onUpdate:modelValue":e[0]||(e[0]=o=>l.location=o)},e[2]||(e[2]=[m('<option value="" disabled data-v-2e5b97b2>Select the location</option><option value="all" data-v-2e5b97b2>All</option><option value="Hilltop" data-v-2e5b97b2>Hilltop</option><option value="Odim" data-v-2e5b97b2>Odim</option><option value="Odenigwe" data-v-2e5b97b2>Odenigwe</option><option value="Behind Flat" data-v-2e5b97b2>Behind Flat</option><option value="Beach" data-v-2e5b97b2>Beach</option>',7)]),512),[[f,l.location]])]),a("div",M,[e[5]||(e[5]=a("i",{class:"pi pi-briefcase"},null,-1)),g(a("select",{class:"search-dropdown","onUpdate:modelValue":e[1]||(e[1]=o=>l.category=o)},e[4]||(e[4]=[m('<option value="" disabled data-v-2e5b97b2>Select your category</option><option value="Household Services" data-v-2e5b97b2>Household Services</option><option value="all" data-v-2e5b97b2>All</option><option value="Delivery and Transport" data-v-2e5b97b2>Delivery and Transport</option><option value="Administrative and Office Work" data-v-2e5b97b2>Administrative and Office Work</option><option value="Creative and Media" data-v-2e5b97b2>Creative and Media</option><option value="Technology and IT" data-v-2e5b97b2>Technology and IT</option><option value="Education and Tutoring" data-v-2e5b97b2>Education and Tutoring</option><option value="Health and Wellnes" data-v-2e5b97b2>Health and Wellness</option><option value="Event Services" data-v-2e5b97b2>Event Services</option><option value="Construction and Maintenance" data-v-2e5b97b2>Construction and Maintenance</option>',11)]),512),[[f,l.category]])]),a("button",{onClick:h,class:"search-btn cursor"},"Search")])]),a("div",O,[(s(!0),b(A,null,B(i.value,o=>(s(),p(x,{job:o,userRole:"freelancer"},null,8,["job"]))),256))])]))}},D=S(V,[["__scopeId","data-v-2e5b97b2"]]);export{D as default};

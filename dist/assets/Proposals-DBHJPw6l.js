import{_ as m,r as i,B as f,q as y,c as l,d as b,e as _,b as s,g as r,t as u,F as p,z as j,s as k,o as t,l as B}from"./index-Bf35r3vJ.js";const w={class:"proposals-container"},x={class:"summary"},h={class:"job-list"},A={key:0,class:"message accepted"},C={key:1,class:"message rejected"},I={key:2,class:"message pending"},J={__name:"Proposals",setup(L){const n=i(!1),a=i([]),c=i(null),g=f.state.userId,v=async()=>{n.value=!0;const{data:d,error:e}=await k.from("applications").select(`*,
        job:jobs(*)`).eq("applicant_id",g);if(e){console.error("Error fetching applied jobs:",e),n.value=!1;return}console.log(d),a.value=d,console.log(a.value.length),c.value=a.value.length,n.value=!1};return y(async()=>{v()}),(d,e)=>(t(),l(p,null,[n.value?(t(),b(B,{key:0})):_("",!0),s("div",w,[s("div",x,[e[2]||(e[2]=s("h1",null,"My Proposals",-1)),s("p",null,[e[0]||(e[0]=r("You have applied to ")),s("strong",null,u(a.value.length)+" jobs",1),e[1]||(e[1]=r("."))])]),s("div",h,[(t(!0),l(p,null,j(a.value,o=>(t(),l("div",{key:o.id,class:"job-card"},[s("h2",null,u(o.job.title),1),s("p",null,[e[3]||(e[3]=s("strong",null,"Status:",-1)),r(" "+u(o.status),1)]),s("p",null,[e[4]||(e[4]=s("strong",null,"Applied At:",-1)),r(" "+u(new Date(o.applied_at).toLocaleString()),1)]),o.status==="accepted"?(t(),l("div",A,e[5]||(e[5]=[s("p",null,"Congratulations! You have been accepted. Check your email for more details.",-1)]))):o.status==="rejected"?(t(),l("div",C,e[6]||(e[6]=[s("p",null,"Unfortunately, your application was not successful this time. Keep applying!",-1)]))):(t(),l("div",I,e[7]||(e[7]=[s("p",null,"Your application is under review. We'll notify you once a decision is made.",-1)])))]))),128))])])],64))}},P=m(J,[["__scopeId","data-v-9378900a"]]);export{P as default};
